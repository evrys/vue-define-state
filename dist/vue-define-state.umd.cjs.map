{"version":3,"file":"vue-define-state.umd.cjs","sources":["../src/defineState.ts"],"sourcesContent":["import { computed, reactive, UnwrapNestedRefs } from \"vue\"\n\n/**\n * A convenient wrapper for Vue's `reactive()`. \n * Creates a reactive copy of the original object, and\n * also converts all getters into computed values.\n */\nexport function defineState<T extends object>(obj: T): UnwrapNestedRefs<T> {\n  const reactiveObj = reactive(obj)\n\n  // Make all getters into computed values\n  // See https://stackoverflow.com/questions/75357694/are-vue-3-reactive-object-getters-made-into-computed-values/75358517\n  // eslint-disable-next-line guard-for-in\n  for (const key in reactiveObj) {\n    const desc = Object.getOwnPropertyDescriptor(reactiveObj, key)\n    if (desc && desc.get) {\n      Object.defineProperty(obj, key, {\n        value: computed(desc.get.bind(reactiveObj))\n      })\n    }\n  }\n\n\n  return reactiveObj\n}"],"names":["defineState","obj","reactiveObj","reactive","key","desc","computed"],"mappings":"mQAOO,SAASA,EAA8BC,EAA6B,CACnE,MAAAC,EAAcC,WAASF,CAAG,EAKhC,UAAWG,KAAOF,EAAa,CAC7B,MAAMG,EAAO,OAAO,yBAAyBH,EAAaE,CAAG,EACzDC,GAAQA,EAAK,KACR,OAAA,eAAeJ,EAAKG,EAAK,CAC9B,MAAOE,EAAS,SAAAD,EAAK,IAAI,KAAKH,CAAW,CAAC,CAAA,CAC3C,CAEL,CAGO,OAAAA,CACT"}